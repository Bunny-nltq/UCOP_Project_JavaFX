<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.ucop.controller.admin.PromotionManagementController">
    
    <!-- Top Bar -->
    <top>
        <VBox>
            <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-background-color: #9C27B0; -fx-padding: 15;">
                <Button text="â† Quay láº¡i Dashboard" onAction="#handleGoBack" 
                        style="-fx-background-color: #7B1FA2; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15;">
                    <font><Font size="13"/></font>
                </Button>
                <Label text="ðŸŽ Quáº£n LÃ½ Khuyáº¿n MÃ£i" textFill="white">
                    <font><Font name="System Bold" size="20"/></font>
                </Label>
            </HBox>
            
            <!-- Search and Filter Bar -->
            <HBox spacing="15" style="-fx-padding: 15; -fx-background-color: #f5f5f5;">
                <TextField fx:id="txtSearch" promptText="TÃ¬m kiáº¿m mÃ£ khuyáº¿n mÃ£i..." prefWidth="250"/>
                <ComboBox fx:id="cboDiscountType" promptText="Loáº¡i giáº£m giÃ¡" prefWidth="150"/>
                <ComboBox fx:id="cboStatus" promptText="Tráº¡ng thÃ¡i" prefWidth="120"/>
                <Button text="ðŸ” TÃ¬m kiáº¿m" onAction="#handleSearch" style="-fx-background-color: #2196F3; -fx-text-fill: white;"/>
                <Button text="ðŸ”„ LÃ m má»›i" onAction="#handleRefresh" style="-fx-background-color: #4CAF50; -fx-text-fill: white;"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="âž• ThÃªm Khuyáº¿n MÃ£i" onAction="#handleCreate" 
                        style="-fx-background-color: #FF9800; -fx-text-fill: white; -fx-font-weight: bold;"/>
            </HBox>
        </VBox>
    </top>
    
    <!-- Center - Table -->
    <center>
        <VBox style="-fx-padding: 15;">
            <TableView fx:id="tablePromotions" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="colCode" text="MÃ£ KM" prefWidth="120"/>
                    <TableColumn fx:id="colName" text="TÃªn KM" prefWidth="200"/>
                    <TableColumn fx:id="colType" text="Loáº¡i" prefWidth="120"/>
                    <TableColumn fx:id="colValue" text="GiÃ¡ trá»‹" prefWidth="100"/>
                    <TableColumn fx:id="colMinAmount" text="ÄÆ¡n tá»‘i thiá»ƒu" prefWidth="120"/>
                    <TableColumn fx:id="colMaxDiscount" text="Giáº£m tá»‘i Ä‘a" prefWidth="120"/>
                    <TableColumn fx:id="colStartDate" text="NgÃ y báº¯t Ä‘áº§u" prefWidth="120"/>
                    <TableColumn fx:id="colEndDate" text="NgÃ y káº¿t thÃºc" prefWidth="120"/>
                    <TableColumn fx:id="colUsageCount" text="LÆ°á»£t dÃ¹ng" prefWidth="100"/>
                    <TableColumn fx:id="colMaxUsage" text="Giá»›i háº¡n" prefWidth="100"/>
                    <TableColumn fx:id="colActive" text="Tráº¡ng thÃ¡i" prefWidth="100"/>
                    <TableColumn fx:id="colActions" text="Thao tÃ¡c" prefWidth="150"/>
                </columns>
            </TableView>
            
            <!-- Pagination -->
            <HBox alignment="CENTER" spacing="10" style="-fx-padding: 10;">
                <Button fx:id="btnFirst" text="â® Äáº§u" onAction="#handleFirst"/>
                <Button fx:id="btnPrev" text="â—€ TrÆ°á»›c" onAction="#handlePrevious"/>
                <Label fx:id="lblPage" text="Trang 1 / 1"/>
                <Button fx:id="btnNext" text="Sau â–¶" onAction="#handleNext"/>
                <Button fx:id="btnLast" text="Cuá»‘i â­" onAction="#handleLast"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Label text="Hiá»ƒn thá»‹:"/>
                <ComboBox fx:id="cboPageSize" prefWidth="80"/>
                <Label fx:id="lblTotal" text="Tá»•ng: 0 khuyáº¿n mÃ£i"/>
            </HBox>
        </VBox>
    </center>
    
    <!-- Bottom Status Bar -->
    <bottom>
        <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-background-color: #f0f0f0; -fx-padding: 8;">
            <Label text="Tráº¡ng thÃ¡i:"/>
            <Label fx:id="lblStatus" text="Sáºµn sÃ ng" style="-fx-text-fill: green;"/>
        </HBox>
    </bottom>
    
</BorderPane>
