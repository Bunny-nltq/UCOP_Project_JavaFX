<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.ucop.controller.ApplyPromotionController"
            prefWidth="700" prefHeight="600">
    
    <!-- Top Bar -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-background-color: #4CAF50; -fx-padding: 15;">
            <Label text="ðŸŽ Ãp Dá»¥ng MÃ£ Giáº£m GiÃ¡" textFill="white">
                <font><Font name="System Bold" size="18"/></font>
            </Label>
        </HBox>
    </top>
    
    <!-- Center -->
    <center>
        <VBox spacing="20" style="-fx-padding: 20;">
            
            <!-- Promotion Code Input -->
            <VBox spacing="8">
                <Label text="Nháº­p mÃ£ khuyáº¿n mÃ£i:" style="-fx-font-weight: bold;"/>
                <HBox spacing="10">
                    <TextField fx:id="txtPromotionCode" promptText="VD: WELCOME10, SALE20" 
                               prefWidth="300" HBox.hgrow="ALWAYS"/>
                    <Button fx:id="btnApply" text="Ãp dá»¥ng" onAction="#handleApply" 
                            style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 20;"/>
                    <Button text="XÃ³a" onAction="#handleRemove" 
                            style="-fx-background-color: #f44336; -fx-text-fill: white; -fx-padding: 8 20;"/>
                </HBox>
                <Label fx:id="lblMessage" text="" wrapText="true"/>
            </VBox>
            
            <Separator/>
            
            <!-- Order Summary -->
            <VBox spacing="12" style="-fx-border-color: #ddd; -fx-border-radius: 5; -fx-padding: 20; -fx-background-color: #f9f9f9;">
                <Label text="ThÃ´ng tin Ä‘Æ¡n hÃ ng:" style="-fx-font-weight: bold; -fx-font-size: 16px;"/>
                
                <HBox alignment="CENTER_LEFT">
                    <Label text="Tá»•ng tiá»n hÃ ng:" prefWidth="200" style="-fx-font-size: 14px;"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label fx:id="lblCartTotal" text="0 Ä‘" style="-fx-font-weight: bold; -fx-font-size: 14px;"/>
                </HBox>
                
                <HBox alignment="CENTER_LEFT">
                    <Label text="Giáº£m giÃ¡:" prefWidth="200" style="-fx-font-size: 14px;"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label fx:id="lblDiscount" text="0 Ä‘" style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #f44336;"/>
                </HBox>
                
                <Separator/>
                
                <HBox alignment="CENTER_LEFT">
                    <Label text="Tá»•ng thanh toÃ¡n:" prefWidth="200" style="-fx-font-weight: bold; -fx-font-size: 18px;"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label fx:id="lblFinalTotal" text="0 Ä‘" style="-fx-font-weight: bold; -fx-font-size: 18px; -fx-text-fill: #4CAF50;"/>
                </HBox>
            </VBox>
            
            <Separator/>
            
            <!-- Available Promotions Table -->
            <VBox spacing="10" VBox.vgrow="ALWAYS">
                <Label text="MÃ£ khuyáº¿n mÃ£i kháº£ dá»¥ng:" style="-fx-font-weight: bold; -fx-font-size: 14px;"/>
                <TableView fx:id="availablePromotionsTable" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="codeColumn" text="MÃ£" prefWidth="120"/>
                        <TableColumn fx:id="descriptionColumn" text="MÃ´ táº£" prefWidth="250"/>
                        <TableColumn fx:id="typeColumn" text="Loáº¡i" prefWidth="120"/>
                        <TableColumn fx:id="expiryColumn" text="Háº¿t háº¡n" prefWidth="150"/>
                    </columns>
                </TableView>
                <Label text="* Nháº¥p Ä‘Ãºp vÃ o mÃ£ Ä‘á»ƒ Ã¡p dá»¥ng" style="-fx-font-size: 11px; -fx-text-fill: gray;"/>
            </VBox>
            
        </VBox>
    </center>
    
    <!-- Bottom Buttons -->
    <bottom>
        <HBox spacing="15" alignment="CENTER" style="-fx-padding: 20; -fx-background-color: #f5f5f5;">
            <Button fx:id="btnClose" text="ÄÃ³ng" onAction="#handleClose" 
                    style="-fx-background-color: #9E9E9E; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 10 30;"/>
        </HBox>
    </bottom>
    
</BorderPane>
